<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>IT猿博客</title>
  
  <subtitle>努力的意义是不断的优化自己；     努力的意义是当下的一点一滴；     努力是为了不让热爱的世界拱手相让于人。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-11-02T12:05:04.261Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>夏之颜</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>分布式文件系统HDFS</title>
    <link href="http://yoursite.com/2019/11/01/Hadoop-HDFS/"/>
    <id>http://yoursite.com/2019/11/01/Hadoop-HDFS/</id>
    <published>2019-11-01T15:45:54.077Z</published>
    <updated>2019-11-02T12:05:04.261Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hadoop分布式文件系统——HDFS"><a href="#Hadoop分布式文件系统——HDFS" class="headerlink" title="Hadoop分布式文件系统——HDFS"></a>Hadoop分布式文件系统——HDFS</h1><h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><p><strong>HDFS</strong> （<strong>Hadoop Distributed File System</strong>）是 Hadoop 下的分布式文件系统，具有高容错、高吞吐量等特性，可以部署在低成本的硬件上。</p><h2 id="二、HDFS-设计原理"><a href="#二、HDFS-设计原理" class="headerlink" title="二、HDFS 设计原理"></a>二、HDFS 设计原理</h2><div align="center"> <img width="600px" src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfsarchitecture.png"> </div><h3 id="2-1-HDFS-架构"><a href="#2-1-HDFS-架构" class="headerlink" title="2.1 HDFS 架构"></a>2.1 HDFS 架构</h3><p>HDFS 遵循主/从架构，由单个 NameNode(NN) 和多个 DataNode(DN) 组成：</p><a id="more"></a><ul><li><strong>NameNode</strong> : 负责执行有关 <code>文件系统命名空间</code> 的操作，例如打开，关闭、重命名文件和目录等。它同时还负责集群元数据的存储，记录着文件中各个数据块的位置信息。</li><li><strong>DataNode</strong>：负责提供来自文件系统客户端的读写请求，执行块的创建，删除等操作。</li></ul><h3 id="2-2-文件系统命名空间"><a href="#2-2-文件系统命名空间" class="headerlink" title="2.2 文件系统命名空间"></a>2.2 文件系统命名空间</h3><p>HDFS 的 <code>文件系统命名空间</code> 的层次结构与大多数文件系统类似 (如 Linux)， 支持目录和文件的创建、移动、删除和重命名等操作，支持配置用户和访问权限，但不支持硬链接和软连接。<code>NameNode</code> 负责维护文件系统名称空间，记录对名称空间或其属性的任何更改。</p><h3 id="2-3-数据复制"><a href="#2-3-数据复制" class="headerlink" title="2.3 数据复制"></a>2.3 数据复制</h3><p>由于 Hadoop 被设计运行在廉价的机器上，这意味着硬件是不可靠的，为了保证容错性，HDFS 提供了数据复制机制。HDFS 将每一个文件存储为一系列<strong>块</strong>，每个块由多个副本来保证容错，块的大小和复制因子可以自行配置（默认情况下，块大小是 128M，默认复制因子是 3）。</p><div align="center"> <img width="600px" src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfsdatanodes.png"> </div><h3 id="2-4-数据复制的实现原理"><a href="#2-4-数据复制的实现原理" class="headerlink" title="2.4 数据复制的实现原理"></a>2.4 数据复制的实现原理</h3><p>大型的 HDFS 实例在通常分布在多个机架的多台服务器上，不同机架上的两台服务器之间通过交换机进行通讯。在大多数情况下，同一机架中的服务器间的网络带宽大于不同机架中的服务器之间的带宽。因此 HDFS 采用机架感知副本放置策略，对于常见情况，当复制因子为 3 时，HDFS 的放置策略是：</p><p>在写入程序位于 <code>datanode</code> 上时，就优先将写入文件的一个副本放置在该 <code>datanode</code> 上，否则放在随机 <code>datanode</code> 上。之后在另一个远程机架上的任意一个节点上放置另一个副本，并在该机架上的另一个节点上放置最后一个副本。此策略可以减少机架间的写入流量，从而提高写入性能。</p><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-机架.png"> </div><p>如果复制因子大于 3，则随机确定第 4 个和之后副本的放置位置，同时保持每个机架的副本数量低于上限，上限值通常为 <code>（复制系数 - 1）/机架数量 + 2</code>，需要注意的是不允许同一个 <code>dataNode</code> 上具有同一个块的多个副本。</p><h3 id="2-5-副本的选择"><a href="#2-5-副本的选择" class="headerlink" title="2.5  副本的选择"></a>2.5  副本的选择</h3><p>为了最大限度地减少带宽消耗和读取延迟，HDFS 在执行读取请求时，优先读取距离读取器最近的副本。如果在与读取器节点相同的机架上存在副本，则优先选择该副本。如果 HDFS 群集跨越多个数据中心，则优先选择本地数据中心上的副本。</p><h3 id="2-6-架构的稳定性"><a href="#2-6-架构的稳定性" class="headerlink" title="2.6 架构的稳定性"></a>2.6 架构的稳定性</h3><h4 id="1-心跳机制和重新复制"><a href="#1-心跳机制和重新复制" class="headerlink" title="1. 心跳机制和重新复制"></a>1. 心跳机制和重新复制</h4><p>每个 DataNode 定期向 NameNode 发送心跳消息，如果超过指定时间没有收到心跳消息，则将 DataNode 标记为死亡。NameNode 不会将任何新的 IO 请求转发给标记为死亡的 DataNode，也不会再使用这些 DataNode 上的数据。 由于数据不再可用，可能会导致某些块的复制因子小于其指定值，NameNode 会跟踪这些块，并在必要的时候进行重新复制。</p><h4 id="2-数据的完整性"><a href="#2-数据的完整性" class="headerlink" title="2. 数据的完整性"></a>2. 数据的完整性</h4><p>由于存储设备故障等原因，存储在 DataNode 上的数据块也会发生损坏。为了避免读取到已经损坏的数据而导致错误，HDFS 提供了数据完整性校验机制来保证数据的完整性，具体操作如下：</p><p>当客户端创建 HDFS 文件时，它会计算文件的每个块的 <code>校验和</code>，并将 <code>校验和</code> 存储在同一 HDFS 命名空间下的单独的隐藏文件中。当客户端检索文件内容时，它会验证从每个 DataNode 接收的数据是否与存储在关联校验和文件中的 <code>校验和</code> 匹配。如果匹配失败，则证明数据已经损坏，此时客户端会选择从其他 DataNode 获取该块的其他可用副本。</p><h4 id="3-元数据的磁盘故障"><a href="#3-元数据的磁盘故障" class="headerlink" title="3.元数据的磁盘故障"></a>3.元数据的磁盘故障</h4><p><code>FsImage</code> 和 <code>EditLog</code> 是 HDFS 的核心数据，这些数据的意外丢失可能会导致整个 HDFS 服务不可用。为了避免这个问题，可以配置 NameNode 使其支持 <code>FsImage</code> 和 <code>EditLog</code> 多副本同步，这样 <code>FsImage</code> 或 <code>EditLog</code> 的任何改变都会引起每个副本 <code>FsImage</code> 和 <code>EditLog</code> 的同步更新。</p><h4 id="4-支持快照"><a href="#4-支持快照" class="headerlink" title="4.支持快照"></a>4.支持快照</h4><p>快照支持在特定时刻存储数据副本，在数据意外损坏时，可以通过回滚操作恢复到健康的数据状态。</p><h2 id="三、HDFS-的特点"><a href="#三、HDFS-的特点" class="headerlink" title="三、HDFS 的特点"></a>三、HDFS 的特点</h2><h3 id="3-1-高容错"><a href="#3-1-高容错" class="headerlink" title="3.1 高容错"></a>3.1 高容错</h3><p>由于 HDFS 采用数据的多副本方案，所以部分硬件的损坏不会导致全部数据的丢失。</p><h3 id="3-2-高吞吐量"><a href="#3-2-高吞吐量" class="headerlink" title="3.2 高吞吐量"></a>3.2 高吞吐量</h3><p>HDFS 设计的重点是支持高吞吐量的数据访问，而不是低延迟的数据访问。</p><h3 id="3-3-大文件支持"><a href="#3-3-大文件支持" class="headerlink" title="3.3  大文件支持"></a>3.3  大文件支持</h3><p>HDFS 适合于大文件的存储，文档的大小应该是是 GB 到 TB 级别的。</p><h3 id="3-3-简单一致性模型"><a href="#3-3-简单一致性模型" class="headerlink" title="3.3 简单一致性模型"></a>3.3 简单一致性模型</h3><p>HDFS 更适合于一次写入多次读取 (write-once-read-many) 的访问模型。支持将内容追加到文件末尾，但不支持数据的随机访问，不能从文件任意位置新增数据。</p><h3 id="3-4-跨平台移植性"><a href="#3-4-跨平台移植性" class="headerlink" title="3.4 跨平台移植性"></a>3.4 跨平台移植性</h3><p>HDFS 具有良好的跨平台移植性，这使得其他大数据计算框架都将其作为数据持久化存储的首选方案。</p><h2 id="附：图解HDFS存储原理"><a href="#附：图解HDFS存储原理" class="headerlink" title="附：图解HDFS存储原理"></a>附：图解HDFS存储原理</h2><blockquote><p>说明：以下图片引用自博客：<a href="https://blog.csdn.net/hudiefenmu/article/details/37655491" target="_blank" rel="noopener">翻译经典 HDFS 原理讲解漫画</a></p></blockquote><h3 id="1-HDFS写数据原理"><a href="#1-HDFS写数据原理" class="headerlink" title="1. HDFS写数据原理"></a>1. HDFS写数据原理</h3><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-write-1.jpg"> </div><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-write-2.jpg"> </div><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-write-3.jpg"> </div><h3 id="2-HDFS读数据原理"><a href="#2-HDFS读数据原理" class="headerlink" title="2. HDFS读数据原理"></a>2. HDFS读数据原理</h3><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-read-1.jpg"> </div><h3 id="3-HDFS故障类型和其检测方法"><a href="#3-HDFS故障类型和其检测方法" class="headerlink" title="3. HDFS故障类型和其检测方法"></a>3. HDFS故障类型和其检测方法</h3><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-tolerance-1.jpg"> </div><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-tolerance-2.jpg"> </div><p><strong>第二部分：读写故障的处理</strong></p><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-tolerance-3.jpg"> </div><p><strong>第三部分：DataNode 故障处理</strong></p><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-tolerance-4.jpg"> </div><p><strong>副本布局策略</strong>：</p><div align="center"> <img src="https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfs-tolerance-5.jpg"> </div><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol><li><a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html" target="_blank" rel="noopener">Apache Hadoop 2.9.2 &gt; HDFS Architecture</a></li><li>Tom White . hadoop 权威指南 [M] . 清华大学出版社 . 2017.</li><li><a href="https://blog.csdn.net/hudiefenmu/article/details/37655491" target="_blank" rel="noopener">翻译经典 HDFS 原理讲解漫画</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Hadoop分布式文件系统——HDFS&quot;&gt;&lt;a href=&quot;#Hadoop分布式文件系统——HDFS&quot; class=&quot;headerlink&quot; title=&quot;Hadoop分布式文件系统——HDFS&quot;&gt;&lt;/a&gt;Hadoop分布式文件系统——HDFS&lt;/h1&gt;&lt;h2 id=&quot;一、介绍&quot;&gt;&lt;a href=&quot;#一、介绍&quot; class=&quot;headerlink&quot; title=&quot;一、介绍&quot;&gt;&lt;/a&gt;一、介绍&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;HDFS&lt;/strong&gt; （&lt;strong&gt;Hadoop Distributed File System&lt;/strong&gt;）是 Hadoop 下的分布式文件系统，具有高容错、高吞吐量等特性，可以部署在低成本的硬件上。&lt;/p&gt;&lt;h2 id=&quot;二、HDFS-设计原理&quot;&gt;&lt;a href=&quot;#二、HDFS-设计原理&quot; class=&quot;headerlink&quot; title=&quot;二、HDFS 设计原理&quot;&gt;&lt;/a&gt;二、HDFS 设计原理&lt;/h2&gt;&lt;div align=&quot;center&quot;&gt; &lt;img width=&quot;600px&quot; src=&quot;https://github.com/heibaiying/BigData-Notes/blob/master/pictures/hdfsarchitecture.png&quot;&gt; &lt;/div&gt;&lt;h3 id=&quot;2-1-HDFS-架构&quot;&gt;&lt;a href=&quot;#2-1-HDFS-架构&quot; class=&quot;headerlink&quot; title=&quot;2.1 HDFS 架构&quot;&gt;&lt;/a&gt;2.1 HDFS 架构&lt;/h3&gt;&lt;p&gt;HDFS 遵循主/从架构，由单个 NameNode(NN) 和多个 DataNode(DN) 组成：&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://yoursite.com/categories/Hadoop/"/>
    
    
      <category term="-HDFS" scheme="http://yoursite.com/tags/HDFS/"/>
    
  </entry>
  
  <entry>
    <title>Hbase常用Shell命令</title>
    <link href="http://yoursite.com/2019/11/01/Hbase_Shell/"/>
    <id>http://yoursite.com/2019/11/01/Hbase_Shell/</id>
    <published>2019-11-01T15:45:54.072Z</published>
    <updated>2019-11-02T12:05:21.280Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hbase-常用-Shell-命令"><a href="#Hbase-常用-Shell-命令" class="headerlink" title="Hbase 常用 Shell 命令"></a>Hbase 常用 Shell 命令</h1><h2 id="一、基本命令"><a href="#一、基本命令" class="headerlink" title="一、基本命令"></a>一、基本命令</h2><p>打开 Hbase Shell：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> hbase shell</span></span><br></pre></td></tr></table></figure><h4 id="1-1-获取帮助"><a href="#1-1-获取帮助" class="headerlink" title="1.1 获取帮助"></a>1.1 获取帮助</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 获取帮助</span></span><br><span class="line">help</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取命令的详细信息</span></span><br><span class="line">help 'status'</span><br></pre></td></tr></table></figure><h4 id="1-2-查看服务器状态"><a href="#1-2-查看服务器状态" class="headerlink" title="1.2 查看服务器状态"></a>1.2 查看服务器状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status</span><br></pre></td></tr></table></figure><h4 id="1-3-查看版本信息"><a href="#1-3-查看版本信息" class="headerlink" title="1.3 查看版本信息"></a>1.3 查看版本信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">version</span><br></pre></td></tr></table></figure><h2 id="二、关于表的操作"><a href="#二、关于表的操作" class="headerlink" title="二、关于表的操作"></a>二、关于表的操作</h2><h4 id="2-1-查看所有表"><a href="#2-1-查看所有表" class="headerlink" title="2.1 查看所有表"></a>2.1 查看所有表</h4><a id="more"></a><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list</span><br></pre></td></tr></table></figure><h4 id="2-2-创建表"><a href="#2-2-创建表" class="headerlink" title="2.2 创建表"></a>2.2 创建表</h4><p> <strong>命令格式</strong>： create ‘表名称’, ‘列族名称 1’,’列族名称 2’,’列名称 N’</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建一张名为Student的表,包含基本信息（baseInfo）、学校信息（schoolInfo）两个列族</span></span><br><span class="line">create 'Student','baseInfo','schoolInfo'</span><br></pre></td></tr></table></figure><h4 id="2-3-查看表的基本信息"><a href="#2-3-查看表的基本信息" class="headerlink" title="2.3 查看表的基本信息"></a>2.3 查看表的基本信息</h4><p> <strong>命令格式</strong>：desc ‘表名’</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">describe 'Student'</span><br></pre></td></tr></table></figure><h4 id="2-4-表的启用-禁用"><a href="#2-4-表的启用-禁用" class="headerlink" title="2.4 表的启用/禁用"></a>2.4 表的启用/禁用</h4><p>enable 和 disable 可以启用/禁用这个表,is_enabled 和 is_disabled 来检查表是否被禁用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 禁用表</span></span><br><span class="line">disable 'Student'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查表是否被禁用</span></span><br><span class="line">is_disabled 'Student'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 启用表</span></span><br><span class="line">enable 'Student'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查表是否被启用</span></span><br><span class="line">is_enabled 'Student'</span><br></pre></td></tr></table></figure><h4 id="2-5-检查表是否存在"><a href="#2-5-检查表是否存在" class="headerlink" title="2.5 检查表是否存在"></a>2.5 检查表是否存在</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exists 'Student'</span><br></pre></td></tr></table></figure><h4 id="2-6-删除表"><a href="#2-6-删除表" class="headerlink" title="2.6 删除表"></a>2.6 删除表</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 删除表前需要先禁用表</span></span><br><span class="line">disable 'Student'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除表</span></span><br><span class="line">drop 'Student'</span><br></pre></td></tr></table></figure><h2 id="三、增删改"><a href="#三、增删改" class="headerlink" title="三、增删改"></a>三、增删改</h2><h4 id="3-1-添加列族"><a href="#3-1-添加列族" class="headerlink" title="3.1 添加列族"></a>3.1 添加列族</h4><p> <strong>命令格式</strong>： alter ‘表名’, ‘列族名’</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter 'Student', 'teacherInfo'</span><br></pre></td></tr></table></figure><h4 id="3-2-删除列族"><a href="#3-2-删除列族" class="headerlink" title="3.2 删除列族"></a>3.2 删除列族</h4><p> <strong>命令格式</strong>：alter ‘表名’, {NAME =&gt; ‘列族名’, METHOD =&gt; ‘delete’}</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter 'Student', &#123;NAME =&gt; 'teacherInfo', METHOD =&gt; 'delete'&#125;</span><br></pre></td></tr></table></figure><h4 id="3-3-更改列族存储版本的限制"><a href="#3-3-更改列族存储版本的限制" class="headerlink" title="3.3 更改列族存储版本的限制"></a>3.3 更改列族存储版本的限制</h4><p>默认情况下，列族只存储一个版本的数据，如果需要存储多个版本的数据，则需要修改列族的属性。修改后可通过 <code>desc</code> 命令查看。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter 'Student',&#123;NAME=&gt;'baseInfo',VERSIONS=&gt;3&#125;</span><br></pre></td></tr></table></figure><h4 id="3-4-插入数据"><a href="#3-4-插入数据" class="headerlink" title="3.4 插入数据"></a>3.4 插入数据</h4><p> <strong>命令格式</strong>：put ‘表名’, ‘行键’,’列族:列’,’值’</p><p><strong>注意：如果新增数据的行键值、列族名、列名与原有数据完全相同，则相当于更新操作</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">put 'Student', 'rowkey1','baseInfo:name','tom'</span><br><span class="line">put 'Student', 'rowkey1','baseInfo:birthday','1990-01-09'</span><br><span class="line">put 'Student', 'rowkey1','baseInfo:age','29'</span><br><span class="line">put 'Student', 'rowkey1','schoolInfo:name','Havard'</span><br><span class="line">put 'Student', 'rowkey1','schoolInfo:localtion','Boston'</span><br><span class="line"></span><br><span class="line">put 'Student', 'rowkey2','baseInfo:name','jack'</span><br><span class="line">put 'Student', 'rowkey2','baseInfo:birthday','1998-08-22'</span><br><span class="line">put 'Student', 'rowkey2','baseInfo:age','21'</span><br><span class="line">put 'Student', 'rowkey2','schoolInfo:name','yale'</span><br><span class="line">put 'Student', 'rowkey2','schoolInfo:localtion','New Haven'</span><br><span class="line"></span><br><span class="line">put 'Student', 'rowkey3','baseInfo:name','maike'</span><br><span class="line">put 'Student', 'rowkey3','baseInfo:birthday','1995-01-22'</span><br><span class="line">put 'Student', 'rowkey3','baseInfo:age','24'</span><br><span class="line">put 'Student', 'rowkey3','schoolInfo:name','yale'</span><br><span class="line">put 'Student', 'rowkey3','schoolInfo:localtion','New Haven'</span><br><span class="line"></span><br><span class="line">put 'Student', 'wrowkey4','baseInfo:name','maike-jack'</span><br></pre></td></tr></table></figure><h4 id="3-5-获取指定行、指定行中的列族、列的信息"><a href="#3-5-获取指定行、指定行中的列族、列的信息" class="headerlink" title="3.5 获取指定行、指定行中的列族、列的信息"></a>3.5 获取指定行、指定行中的列族、列的信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 获取指定行中所有列的数据信息</span></span><br><span class="line">get 'Student','rowkey3'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取指定行中指定列族下所有列的数据信息</span></span><br><span class="line">get 'Student','rowkey3','baseInfo'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取指定行中指定列的数据信息</span></span><br><span class="line">get 'Student','rowkey3','baseInfo:name'</span><br></pre></td></tr></table></figure><h4 id="3-6-删除指定行、指定行中的列"><a href="#3-6-删除指定行、指定行中的列" class="headerlink" title="3.6 删除指定行、指定行中的列"></a>3.6 删除指定行、指定行中的列</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 删除指定行</span></span><br><span class="line">delete 'Student','rowkey3'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除指定行中指定列的数据</span></span><br><span class="line">delete 'Student','rowkey3','baseInfo:name'</span><br></pre></td></tr></table></figure><h2 id="四、查询"><a href="#四、查询" class="headerlink" title="四、查询"></a>四、查询</h2><p>hbase 中访问数据有两种基本的方式：</p><ul><li><p>按指定 rowkey 获取数据：get 方法；</p></li><li><p>按指定条件获取数据：scan 方法。</p></li></ul><p><code>scan</code> 可以设置 begin 和 end 参数来访问一个范围内所有的数据。get 本质上就是 begin 和 end 相等的一种特殊的 scan。</p><h4 id="4-1Get查询"><a href="#4-1Get查询" class="headerlink" title="4.1Get查询"></a>4.1Get查询</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 获取指定行中所有列的数据信息</span></span><br><span class="line">get 'Student','rowkey3'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取指定行中指定列族下所有列的数据信息</span></span><br><span class="line">get 'Student','rowkey3','baseInfo'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取指定行中指定列的数据信息</span></span><br><span class="line">get 'Student','rowkey3','baseInfo:name'</span><br></pre></td></tr></table></figure><h4 id="4-2-查询整表数据"><a href="#4-2-查询整表数据" class="headerlink" title="4.2 查询整表数据"></a>4.2 查询整表数据</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student'</span><br></pre></td></tr></table></figure><h4 id="4-3-查询指定列簇的数据"><a href="#4-3-查询指定列簇的数据" class="headerlink" title="4.3 查询指定列簇的数据"></a>4.3 查询指定列簇的数据</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student', &#123;COLUMN=&gt;'baseInfo'&#125;</span><br></pre></td></tr></table></figure><h4 id="4-4-条件查询"><a href="#4-4-条件查询" class="headerlink" title="4.4  条件查询"></a>4.4  条件查询</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查询指定列的数据</span></span><br><span class="line">scan 'Student', &#123;COLUMNS=&gt; 'baseInfo:birthday'&#125;</span><br></pre></td></tr></table></figure><p>除了列 <code>（COLUMNS）</code> 修饰词外，HBase 还支持 <code>Limit</code>（限制查询结果行数），<code>STARTROW</code>（<code>ROWKEY</code> 起始行，会先根据这个 <code>key</code> 定位到 <code>region</code>，再向后扫描）、<code>STOPROW</code>(结束行)、<code>TIMERANGE</code>（限定时间戳范围）、<code>VERSIONS</code>（版本数）、和 <code>FILTER</code>（按条件过滤行）等。</p><p>如下代表从 <code>rowkey2</code> 这个 <code>rowkey</code> 开始，查找下两个行的最新 3 个版本的 name 列的数据：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student', &#123;COLUMNS=&gt; 'baseInfo:name',STARTROW =&gt; 'rowkey2',STOPROW =&gt; 'wrowkey4',LIMIT=&gt;2, VERSIONS=&gt;3&#125;</span><br></pre></td></tr></table></figure><h4 id="4-5-条件过滤"><a href="#4-5-条件过滤" class="headerlink" title="4.5  条件过滤"></a>4.5  条件过滤</h4><p>Filter 可以设定一系列条件来进行过滤。如我们要查询值等于 24 的所有数据：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student', FILTER=&gt;"ValueFilter(=,'binary:24')"</span><br></pre></td></tr></table></figure><p>值包含 yale 的所有数据：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student', FILTER=&gt;"ValueFilter(=,'substring:yale')"</span><br></pre></td></tr></table></figure><p>列名中的前缀为 birth 的：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student', FILTER=&gt;"ColumnPrefixFilter('birth')"</span><br></pre></td></tr></table></figure><p>FILTER 中支持多个过滤条件通过括号、AND 和 OR 进行组合：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 列名中的前缀为birth且列值中包含1998的数据</span></span><br><span class="line">scan 'Student', FILTER=&gt;"ColumnPrefixFilter('birth') AND ValueFilter ValueFilter(=,'substring:1998')"</span><br></pre></td></tr></table></figure><p><code>PrefixFilter</code> 用于对 Rowkey 的前缀进行判断：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan 'Student', FILTER=&gt;"PrefixFilter('wr')"</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Hbase-常用-Shell-命令&quot;&gt;&lt;a href=&quot;#Hbase-常用-Shell-命令&quot; class=&quot;headerlink&quot; title=&quot;Hbase 常用 Shell 命令&quot;&gt;&lt;/a&gt;Hbase 常用 Shell 命令&lt;/h1&gt;&lt;h2 id=&quot;一、基本命令&quot;&gt;&lt;a href=&quot;#一、基本命令&quot; class=&quot;headerlink&quot; title=&quot;一、基本命令&quot;&gt;&lt;/a&gt;一、基本命令&lt;/h2&gt;&lt;p&gt;打开 Hbase Shell：&lt;/p&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; hbase shell&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&quot;1-1-获取帮助&quot;&gt;&lt;a href=&quot;#1-1-获取帮助&quot; class=&quot;headerlink&quot; title=&quot;1.1 获取帮助&quot;&gt;&lt;/a&gt;1.1 获取帮助&lt;/h4&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; 获取帮助&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;help&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; 获取命令的详细信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;help &#39;status&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&quot;1-2-查看服务器状态&quot;&gt;&lt;a href=&quot;#1-2-查看服务器状态&quot; class=&quot;headerlink&quot; title=&quot;1.2 查看服务器状态&quot;&gt;&lt;/a&gt;1.2 查看服务器状态&lt;/h4&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;status&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&quot;1-3-查看版本信息&quot;&gt;&lt;a href=&quot;#1-3-查看版本信息&quot; class=&quot;headerlink&quot; title=&quot;1.3 查看版本信息&quot;&gt;&lt;/a&gt;1.3 查看版本信息&lt;/h4&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;version&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&quot;二、关于表的操作&quot;&gt;&lt;a href=&quot;#二、关于表的操作&quot; class=&quot;headerlink&quot; title=&quot;二、关于表的操作&quot;&gt;&lt;/a&gt;二、关于表的操作&lt;/h2&gt;&lt;h4 id=&quot;2-1-查看所有表&quot;&gt;&lt;a href=&quot;#2-1-查看所有表&quot; class=&quot;headerlink&quot; title=&quot;2.1 查看所有表&quot;&gt;&lt;/a&gt;2.1 查看所有表&lt;/h4&gt;
    
    </summary>
    
    
      <category term="Hbase" scheme="http://yoursite.com/categories/Hbase/"/>
    
    
      <category term="-Hbase命令" scheme="http://yoursite.com/tags/Hbase%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2019/11/01/hello-world/"/>
    <id>http://yoursite.com/2019/11/01/hello-world/</id>
    <published>2019-11-01T10:48:16.922Z</published>
    <updated>2019-11-01T10:48:16.922Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
</feed>
